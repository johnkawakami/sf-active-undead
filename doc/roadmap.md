# Roadmap

* Delete unused features
  * Dossier
  * Themes
  * Mirror
  * Mailing list
  * Send mail from admin area
  * RSS for each category
  * Comments-latest.inc - text based comments list.
* Refactor application to take a step toward MVC.
  * There are no routes, but most .php files in the directories are endpoints.
  * Page Controllers are in shared/classes/pages
  * Views are in local/templates/pages
* Implement autoloaders
  * Copy classes to shared/class/ and edit there.
  * Copy shared/classes/pages to shared/PageControllers
  * The autoloader function should 
* Implement a more thorough templating system to remove display logic from controllers.
  * Use the WP Boostrap templating language.
  * Copy shared/templates/*.tpl to share/templates/legacy
  * Copy local/templates/pages to shared/templates/pages
  * Put new templates into shared/templtes/partial
  * Extract HTML from the page controllers and migrate to partial.
  * Reimplement the legacy templates as partials.
* Revise the endpoints so they are simpler to write.
* Be more consistent about the writable directories in the public tree (excepting news and uploads)
  * all temp files should be in local/tmp
  * There are two possible directions:
    * The "data outside of public"
      * writable areas like archive and calendar should really just have a index.php file, which will read data from local/cache/archive and local/cache/calendar
      * Use the PHP front controller pattern with PATH_INFO to preserve existing URLs.
      * This is easier to implement.
    * The "we are generating pages".
      * The index.php in writable dirs should be an index.html, and generated by the software.
      * This serves up faster to the worl.d
* Refactor article_class.inc so it's a data model, mainly.
    * All the mangling and manipulation it does should be refactored into ArticleFilter classes.
    * File writing should be in File Builder classes: HTMLFileBuilder, JSONFileBuilder, etc.
    * An Article Director can then create Article objects, and pass them through the filters and writers.
    * Taking user input to make an article should be in Article, not up in Cache.  In fact, all of it should probably in ArticleDirector.
    * Images, video, and audio should also be processed via this pipeline.  So Thumbnaling images would be one filter.
    * The Article Director can create pages by getting the article, the attachments (which are also articles), and caching them. Then, filtering each independently. Then, composing the final page.  It would be a lot simpler.
    * Searching articles should be its own class.
    * If we break it apart enough, we'll have testable units!
* Publish form needs to be updated:
  * Youtube-style file uploading.
  * AJAX uploads should go to a temporary area, and a temporary table.
  * Media is uploaded before the story is written - then you can insert images into the text.
  * Media will need it's own writable directory under public.
  * We need to allow people to edit their stories via a passcode number, like we have in the calendar.
  * Need responsive layout for mobile phones.
